---
import PageLayout from '~/layouts/PageLayout.astro';

// è·å–æ‰€æœ‰æ ‡ç­¾
export async function getStaticPaths() {
  return [
    { params: { tag: 'AI' } },
    { params: { tag: 'AIè¥é”€' } },
    { params: { tag: 'AIå·¥å…·' } },
    { params: { tag: 'æœªæ¥è¶‹åŠ¿' } },
    { params: { tag: 'AGI' } },
    { params: { tag: 'å¤šæ¨¡æ€AI' } },
    { params: { tag: 'æ•°å­—è¥é”€' } },
    { params: { tag: 'è¥é”€è‡ªåŠ¨åŒ–' } },
    { params: { tag: 'ç”Ÿäº§åŠ›' } },
    { params: { tag: 'ChatGPT' } },
    { params: { tag: 'Midjourney' } },
    { params: { tag: 'Prompt Engineering' } },
    { params: { tag: 'æŠ€æœ¯æ•™ç¨‹' } },
    { params: { tag: 'å¼€æº' } },
  ];
}

const { tag } = Astro.params;

// æ‰€æœ‰æ–‡ç« 
const allPosts = [
  {
    title: "AI æœªæ¥åå¹´çš„å…³é”®è¯ï¼šé‡æ–°å®šä¹‰æ™ºèƒ½æ—¶ä»£çš„è¾¹ç•Œ",
    description: "ä» AGI åˆ°å¤šæ¨¡æ€ï¼Œä»å¼€æºé©å‘½åˆ°ä¼¦ç†è§‰é†’ï¼Œè§£è¯»æœªæ¥åå¹´å°†ä¸»å¯¼ AI å‘å±•çš„ 10 ä¸ªæ ¸å¿ƒå…³é”®è¯",
    pubDate: "2025-10-07",
    slug: "ai-future-decade-keywords",
    category: "AI è¶‹åŠ¿",
    tags: ["AI", "æœªæ¥è¶‹åŠ¿", "AGI", "å¤šæ¨¡æ€AI", "å¼€æº"]
  },
  {
    title: "AI é‡å¡‘è¥é”€ï¼šä»å†…å®¹ç”Ÿäº§åˆ°ç²¾å‡†æŠ•æ”¾çš„å…¨é“¾è·¯é©å‘½",
    description: "æ·±åº¦è§£æ AI å¦‚ä½•æ”¹å˜è¥é”€çš„æ¯ä¸ªç¯èŠ‚ï¼Œä»æ–‡æ¡ˆåˆ›ä½œã€è§†è§‰è®¾è®¡åˆ°æ•°æ®åˆ†æï¼Œé™„å®æˆ˜æ¡ˆä¾‹ä¸å·¥å…·æ¨è",
    pubDate: "2025-10-07",
    slug: "ai-marketing-revolution",
    category: "AI è¥é”€",
    tags: ["AIè¥é”€", "æ•°å­—è¥é”€", "è¥é”€è‡ªåŠ¨åŒ–", "å†…å®¹åˆ›ä½œ"]
  },
  {
    title: "2025 å¹´å¿…å¤‡çš„ 10 ä¸ª AI å·¥å…·ï¼šè®©ç”Ÿäº§åŠ›é£è·ƒçš„ç§˜å¯†æ­¦å™¨",
    description: "ç²¾é€‰ 10 ä¸ªç»è¿‡å®æˆ˜æ£€éªŒçš„ AI å·¥å…·ï¼Œæ¶µç›–å†™ä½œã€ç¼–ç¨‹ã€è®¾è®¡ã€æ•°æ®åˆ†æç­‰åœºæ™¯ï¼Œé™„ä½¿ç”¨æŠ€å·§ä¸å¯¹æ¯”è¯„æµ‹",
    pubDate: "2025-10-07",
    slug: "ai-tools-2025",
    category: "AI å·¥å…·",
    tags: ["AIå·¥å…·", "ç”Ÿäº§åŠ›", "ChatGPT", "Midjourney", "GitHub Copilot"]
  },
  {
    title: "Prompt Engineeringï¼šAI æ—¶ä»£çš„æ–°ç¼–ç¨‹è¯­è¨€",
    description: "æ·±å…¥æ¢ç´¢ Prompt Engineering çš„æ ¸å¿ƒåŸç†ã€å®ç”¨æŠ€å·§ä¸æœ€ä½³å®è·µï¼ŒæŒæ¡ä¸ AI å¯¹è¯çš„è‰ºæœ¯",
    pubDate: "2025-10-07",
    slug: "prompt-engineering",
    category: "æŠ€æœ¯å®è·µ",
    tags: ["AI", "Prompt Engineering", "ChatGPT", "æŠ€æœ¯æ•™ç¨‹"]
  }
];

// ç­›é€‰åŒ…å«å½“å‰æ ‡ç­¾çš„æ–‡ç« 
const posts = allPosts.filter(post => post.tags.includes(tag as string));

// æ ¼å¼åŒ–æ—¥æœŸ
const formatDate = (date: string) => {
  return new Date(date).toLocaleDateString('zh-CN', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  });
};
---

<PageLayout 
  title={`æ ‡ç­¾: ${tag} - AIå°å­©`} 
  description={`æŸ¥çœ‹æ‰€æœ‰æ ‡è®°ä¸º "${tag}" çš„æ–‡ç« `}
>
  <div class="mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8">
    <!-- æ ‡ç­¾æ ‡é¢˜ -->
    <div class="mb-12">
      <div class="flex items-center gap-3 mb-4">
        <span class="text-4xl">ğŸ·ï¸</span>
        <h1 class="text-page-title">æ ‡ç­¾: {tag}</h1>
      </div>
      <p class="text-lg text-gray-600 dark:text-gray-400">
        å…±æ‰¾åˆ° {posts.length} ç¯‡ç›¸å…³æ–‡ç« 
      </p>
      <div class="mt-4">
        <a href="/blog" class="text-primary hover:underline">
          â† è¿”å›æ‰€æœ‰æ–‡ç« 
        </a>
      </div>
    </div>

    <!-- æ–‡ç« åˆ—è¡¨ -->
    {posts.length > 0 ? (
      <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
        {posts.map((post) => (
          <article class="group flex flex-col overflow-hidden rounded-lg border border-gray-200 transition-all hover:shadow-lg dark:border-gray-800">
            <!-- æ–‡ç« å°é¢ -->
            <div class="aspect-video bg-gradient-to-br from-primary/20 to-accent/20">
              <div class="flex h-full items-center justify-center">
                <span class="text-4xl">ğŸ¤–</span>
              </div>
            </div>
            
            <!-- æ–‡ç« ä¿¡æ¯ -->
            <div class="flex flex-1 flex-col p-6">
              <!-- åˆ†ç±»æ ‡ç­¾ -->
              <div class="mb-2">
                <span class="inline-block rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary">
                  {post.category}
                </span>
              </div>

              <div class="mb-2 flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400">
                <time datetime={post.pubDate}>{formatDate(post.pubDate)}</time>
              </div>
              
              <h2 class="mb-3 text-xl font-bold group-hover:text-primary">
                <a href={`/blog/${post.slug}`} class="hover:underline">
                  {post.title}
                </a>
              </h2>
              
              <p class="mb-4 flex-1 text-gray-600 dark:text-gray-400">
                {post.description}
              </p>
              
              <!-- æ ‡ç­¾ -->
              {post.tags && post.tags.length > 0 && (
                <div class="flex flex-wrap gap-2">
                  {post.tags.map((t) => (
                    <a 
                      href={`/tag/${t}`}
                      class={`rounded-full px-2 py-1 text-xs transition-colors ${
                        t === tag 
                          ? 'bg-primary text-white' 
                          : 'bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700'
                      }`}
                    >
                      {t}
                    </a>
                  ))}
                </div>
              )}
              
              <!-- é˜…è¯»æŒ‰é’® -->
              <div class="mt-4 pt-4 border-t border-gray-100 dark:border-gray-800">
                <a
                  href={`/blog/${post.slug}`}
                  class="inline-flex items-center text-sm font-medium text-primary hover:underline"
                >
                  é˜…è¯»å…¨æ–‡ â†’
                </a>
              </div>
            </div>
          </article>
        ))}
      </div>
    ) : (
      <div class="rounded-lg border border-gray-200 p-12 text-center dark:border-gray-800">
        <span class="text-6xl mb-4 block">ğŸ·ï¸</span>
        <p class="text-xl text-gray-600 dark:text-gray-400">
          æœªæ‰¾åˆ°åŒ…å«æ ‡ç­¾ "{tag}" çš„æ–‡ç« 
        </p>
      </div>
    )}
  </div>
</PageLayout>

