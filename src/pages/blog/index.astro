---
import PageLayout from '~/layouts/PageLayout.astro';
import { getTranslation } from '~/i18n/ui.ts';
import { getTagSlug } from '~/utils/tagMapping';

// Get current locale
const currentLocale = 'en';

// SEO ä¼˜åŒ–
const seoTitle = "AI Blog - Latest AI Trends, Tools & Insights | AI Kids";
const seoDescription = "Explore cutting-edge insights on AI, marketing, and technology. Curated AI tool recommendations, in-depth trend analysis, and practical tips to help you stay learning and growing in the AI era.";
const seoKeywords = "AI blog,AI articles,AI trend analysis,AI tool recommendations,AI learning resources,artificial intelligence blog,AI technology articles";

// Blog posts list
const posts = [
  {
    title: "AI Revolution in Marketing: Complete Transformation from Content Creation to Precision Targeting",
    description: "Deep analysis of how AI is transforming every aspect of marketing, from copywriting and visual design to data analysis, with practical case studies and tool recommendations",
    pubDate: "2025-01-08",
    slug: "ai-marketing-revolution",
    category: "AI Marketing",
    categorySlug: "ai-marketing",
    tags: ["AI Marketing", "Digital Marketing", "Marketing Automation"],
    cover: "/assets/blog/ai-marketing.jpg"
  },
  {
    title: "10 Essential AI Tools for 2025: Secret Weapons for Productivity Leap",
    description: "Curated selection of 10 battle-tested AI tools covering writing, programming, design, data analysis scenarios, with usage tips and comparative reviews",
    pubDate: "2025-01-07",
    slug: "ai-tools-2025",
    category: "AI Tools",
    categorySlug: "ai-tools",
    tags: ["AI Tools", "Productivity", "ChatGPT", "Midjourney"],
    cover: "/assets/blog/ai-tools-2025.jpg"
  },
  {
    title: "AI Keywords for the Next Decade: Redefining the Boundaries of the Intelligent Era",
    description: "From AGI to multimodal, from open source revolution to ethical awakening, interpreting the 10 core keywords that will dominate AI development in the next decade",
    pubDate: "2025-01-06",
    slug: "ai-future-decade-keywords",
    category: "AI Trends",
    categorySlug: "ai-trends",
    tags: ["AI", "Future Trends", "AGI", "Multimodal AI"],
    cover: "/assets/blog/ai-future-decade.jpg"
  },
  {
    title: "Prompt Engineering: The New Programming Language of the AI Era",
    description: "Deep exploration of the core principles, practical techniques and best practices of Prompt Engineering, mastering the art of conversing with AI",
    pubDate: "2025-01-05",
    slug: "prompt-engineering",
    category: "Tech Tutorial",
    categorySlug: "tech-tutorial",
    tags: ["AI", "Prompt Engineering", "ChatGPT", "Tech Tutorial"],
    cover: "/assets/blog/prompt-engineering-cover.jpg"
  },
  {
    title: "2025 AI Model Rankings: GPT-5 vs Claude 4 vs Gemini 2.0 Comprehensive Comparison",
    description: "Latest AI model hands-on comparison, covering performance, pricing, application scenarios comprehensive evaluation, helping you choose the most suitable AI model",
    pubDate: "2025-01-04",
    slug: "ai-model-ranking-2025",
    category: "AI Trends",
    categorySlug: "ai-trends",
    tags: ["AI Models", "GPT-5", "Claude", "Gemini", "Model Comparison", "AI Rankings"],
    cover: "/assets/blog/ai-model-ranking.jpg"
  },
  {
    title: "Writing Viral Copy with AI: 5 Prompt Templates Ready to Use",
    description: "Battle-tested AI copywriting templates covering marketing copy, social media, e-commerce product pages and other scenarios, helping you produce professional-level copy in 10 minutes",
    pubDate: "2025-01-03",
    slug: "ai-copywriting-prompts",
    category: "AI Marketing",
    categorySlug: "ai-marketing",
    tags: ["AI Marketing", "Copywriting", "Prompt Templates", "Marketing Copy", "ChatGPT"],
    cover: "/assets/blog/ai-copywriting.jpg"
  }
];

// Categories list
const categories = [
  { name: 'AI Trends', slug: 'ai-trends', icon: 'ðŸ”®', count: 2 },
  { name: 'AI Marketing', slug: 'ai-marketing', icon: 'ðŸ“ˆ', count: 2 },
  { name: 'AI Tools', slug: 'ai-tools', icon: 'ðŸ› ï¸', count: 1 },
  { name: 'Tech Tutorial', slug: 'tech-tutorial', icon: 'ðŸ’»', count: 1 },
  { name: 'Insights', slug: 'insights', icon: 'ðŸ’¡', count: 0 },
  { name: 'Resources', slug: 'resources', icon: 'ðŸ“š', count: 0 },
];

// Format date
const formatDate = (date: string) => {
  return new Date(date).toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  });
};
---

<PageLayout 
  title={seoTitle} 
  description={seoDescription}
  keywords={seoKeywords}
  url="/blog"
  type="website"
>
  <div class="mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8">
    <h1 class="text-page-title mb-8">{getTranslation(currentLocale, 'blog.title')}</h1>
    
    <!-- Category Navigation -->
    <div class="mb-12">
      <h2 class="text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300">{getTranslation(currentLocale, 'blog.categories')}</h2>
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
        {categories.map((cat) => (
          <a 
            href={`/category/${cat.slug}`}
            class="group flex flex-col items-center p-4 rounded-lg border border-gray-200 dark:border-gray-800 hover:border-primary hover:shadow-md transition-all"
          >
            <span class="text-3xl mb-2">{cat.icon}</span>
            <span class="text-sm font-medium text-center group-hover:text-primary">
              {cat.name}
            </span>
            <span class="text-xs text-gray-500 mt-1">
              {cat.count} posts
            </span>
          </a>
        ))}
      </div>
    </div>
    
    <!-- æ–‡ç« åˆ—è¡¨ -->
    <div>
      <h2 class="text-lg font-semibold mb-6 text-gray-700 dark:text-gray-300">
        {getTranslation(currentLocale, 'blog.latest_posts')} ({posts.length})
      </h2>
      <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
        {posts.map((post) => (
          <article class="group flex flex-col overflow-hidden rounded-lg border border-gray-200 transition-all hover:shadow-lg dark:border-gray-800">
            <!-- Banner Image -->
            <div class="aspect-video bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center">
              <span class="text-4xl">ðŸ¤–</span>
            </div>
            
            <!-- æ–‡ç« ä¿¡æ¯ -->
            <div class="flex flex-1 flex-col p-6">
              <!-- åˆ†ç±»æ ‡ç­¾ -->
              <div class="mb-2">
                <a 
                  href={`/category/${post.categorySlug}`}
                  class="inline-block rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary hover:bg-primary/20 transition-colors"
                >
                  {post.category}
                </a>
              </div>

              <div class="mb-2 flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400">
                <time datetime={post.pubDate}>{formatDate(post.pubDate)}</time>
              </div>
              
              <h2 class="mb-3 text-xl font-bold group-hover:text-primary">
                <a href={`/blog/${post.slug}`} class="hover:underline">
                  {post.title}
                </a>
              </h2>
              
              <p class="mb-4 flex-1 text-gray-600 dark:text-gray-400">
                {post.description}
              </p>
              
              <!-- æ ‡ç­¾ -->
              {post.tags && post.tags.length > 0 && (
                <div class="flex flex-wrap gap-2">
                  {post.tags.slice(0, 3).map((tag) => (
                    <a
                      href={`/tag/${getTagSlug(tag)}`}
                      class="rounded-full bg-gray-100 px-2 py-1 text-xs text-gray-700 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors"
                    >
                      {tag}
                    </a>
                  ))}
                </div>
              )}
              
              <!-- é˜…è¯»æŒ‰é’® -->
              <div class="mt-4 pt-4 border-t border-gray-100 dark:border-gray-800">
                <a
                  href={`/blog/${post.slug}`}
                  class="inline-flex items-center text-sm font-medium text-primary hover:underline"
                >
                  {getTranslation(currentLocale, 'blog.read_more')} â†’
                </a>
              </div>
            </div>
          </article>
        ))}
      </div>
    </div>
    
    <!-- ç©ºçŠ¶æ€æç¤º -->
    {posts.length === 0 && (
      <div class="rounded-lg border border-gray-200 p-8 text-center dark:border-gray-800">
        <p class="text-gray-600 dark:text-gray-400">
          Articles coming soon, stay tuned!
        </p>
      </div>
    )}
  </div>
</PageLayout>

